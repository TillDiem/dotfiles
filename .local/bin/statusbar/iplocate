#!/bin/sh

# Gets your public ip address checks which country you are in and
# displays that information in the statusbar
#
# https://www.maketecheasier.com/ip-address-geolocation-lookups-linux/

ifinstalled "geoip" || exit
addr="$(curl ifconfig.me 2>/dev/null)" || exit
con="$( geoiplookup "$addr" | sed 's/.*, //' )"
result=$con
if [[ "$con" = "Switzerland" ]] ; then
	result="ğŸ‡¨ğŸ‡­"
elif [[ "$con" = "United States" ]] ; then
	result="ğŸ‡ºğŸ‡¸"
elif [[ "$con" = "Netherlands" ]] ; then
	result="ğŸ‡³ğŸ‡±"
elif [[ "$con" = "Germany" ]] ; then
	result="ğŸ‡©ğŸ‡ª"
elif [[ "$con" = "Russia" ]] ; then
	result="ğŸ‡·"
else result=$con
fi

echo "$result"
